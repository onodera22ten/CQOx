# ğŸš€ CQOx å®Œå…¨å®Ÿè£…ã‚¬ã‚¤ãƒ‰ - Fedora/Linuxç’°å¢ƒ

**ä½œæˆæ—¥**: 2025å¹´11æœˆ11æ—¥
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: CQOx (Causal Query Optimization eXtended)
**å¯¾è±¡ç’°å¢ƒ**: Linux (Fedora) + Neovim
**å®Ÿè¡Œæ–¹æ³•**: Dockerã§å…¨è‡ªå‹•å®Ÿè¡Œ

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶](#ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶)
2. [äº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](#äº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)
3. [ãƒªãƒã‚¸ãƒˆãƒªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ãƒªãƒã‚¸ãƒˆãƒªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
4. [ç’°å¢ƒå¤‰æ•°è¨­å®š](#ç’°å¢ƒå¤‰æ•°è¨­å®š)
5. [Dockerã‚¤ãƒ³ãƒ•ãƒ©èµ·å‹•ï¼ˆ11ã‚µãƒ¼ãƒ“ã‚¹ï¼‰](#dockerã‚¤ãƒ³ãƒ•ãƒ©èµ·å‹•)
6. [ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ](#ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ)
7. [ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†](#ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†)
8. [TimescaleDBãƒ‡ãƒ¼ã‚¿æŠ•å…¥](#timescaledbãƒ‡ãƒ¼ã‚¿æŠ•å…¥)
9. [å…¨æ¨å®šå™¨å®Ÿè¡Œï¼ˆ23ç¨®é¡ï¼‰](#å…¨æ¨å®šå™¨å®Ÿè¡Œ)
10. [ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ROIæœ€é©åŒ–ï¼ˆPhase 1-4ï¼‰](#ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°roiæœ€é©åŒ–)
11. [åå®Ÿä»®æƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ8ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰](#åå®Ÿä»®æƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³)
12. [3Dãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯è¦–åŒ–ç”Ÿæˆ](#3då¯è¦–åŒ–ç”Ÿæˆ)
13. [WolframONEçµ±åˆå¯è¦–åŒ–](#wolframoneçµ±åˆ)
14. [UIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](#uiãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
15. [ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£ï¼ˆç›£è¦–ãƒ»ãƒ­ã‚°ãƒ»ãƒˆãƒ¬ãƒ¼ã‚¹ï¼‰](#ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£)
16. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ğŸ–¥ï¸ ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

### æœ€å°æ§‹æˆ
- **OS**: Fedora 38ä»¥ä¸Š / RHEL 9ä»¥ä¸Š / CentOS Stream 9
- **CPU**: 4ã‚³ã‚¢ä»¥ä¸Š
- **ãƒ¡ãƒ¢ãƒª**: 8GBä»¥ä¸Š
- **ãƒ‡ã‚£ã‚¹ã‚¯**: 20GBä»¥ä¸Šã®ç©ºãå®¹é‡
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šï¼ˆåˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ï¼‰

### æ¨å¥¨æ§‹æˆ
- **CPU**: 8ã‚³ã‚¢ä»¥ä¸Š
- **ãƒ¡ãƒ¢ãƒª**: 16GBä»¥ä¸Š
- **ãƒ‡ã‚£ã‚¹ã‚¯**: 50GBä»¥ä¸Šï¼ˆSSDæ¨å¥¨ï¼‰

---

## ğŸ“¦ äº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### 1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

```bash
sudo dnf update -y
```

### 2. Docker & Docker Compose ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Dockerå…¬å¼ãƒªãƒã‚¸ãƒˆãƒªè¿½åŠ 
sudo dnf -y install dnf-plugins-core
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo

# Dockerã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo dnf install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# Dockerèµ·å‹•ãƒ»è‡ªå‹•èµ·å‹•è¨­å®š
sudo systemctl start docker
sudo systemctl enable docker

# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’dockerã‚°ãƒ«ãƒ¼ãƒ—ã«è¿½åŠ ï¼ˆå†ãƒ­ã‚°ã‚¤ãƒ³å¿…è¦ï¼‰
sudo usermod -aG docker $USER
newgrp docker

# ç¢ºèª
docker --version
docker compose version
```

### 3. Python 3.11+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Python 3.11ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo dnf install -y python3.11 python3.11-pip python3.11-devel

# ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®šï¼ˆ.bashrcã¾ãŸã¯.zshrcã«è¿½åŠ ï¼‰
alias python=python3.11
alias pip=pip3.11

# ç¢ºèª
python --version  # Python 3.11.x
```

### 4. Node.js 18+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨ï¼‰

```bash
# Node.js 18 LTS
sudo dnf install -y nodejs npm

# ç¢ºèª
node --version  # v18.xä»¥ä¸Š
npm --version
```

### 5. é–‹ç™ºãƒ„ãƒ¼ãƒ«

```bash
# åŸºæœ¬é–‹ç™ºãƒ„ãƒ¼ãƒ«
sudo dnf groupinstall -y "Development Tools"

# git
sudo dnf install -y git

# Neovimï¼ˆæ—¢ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
sudo dnf install -y neovim
```

---

## ğŸ“‚ ãƒªãƒã‚¸ãƒˆãƒªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### æ–¹æ³•1: Zipãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆæ¨å¥¨ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡å®šï¼‰

```bash
# 1. GitHubã‹ã‚‰Zipã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
# ãƒ–ãƒ©ã‚¦ã‚¶ã§ https://github.com/onodera22ten/CQOx ã‚’é–‹ãã€
# Code â†’ Download ZIP ã‚’ã‚¯ãƒªãƒƒã‚¯

# 2. è§£å‡
cd ~/Downloads
unzip CQOx-claude-timescaledb-marketing-pipeline-*.zip

# 3. ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
mv CQOx-* ~/CQOx
cd ~/CQOx

# 4. ç¢ºèª
ls -la
```

### æ–¹æ³•2: Git Clone

```bash
git clone https://github.com/onodera22ten/CQOx.git
cd CQOx
git checkout claude/timescaledb-marketing-pipeline-011CUyXJm6zoJFc7cNd2FL6W
```

---

## ğŸ”§ ç’°å¢ƒå¤‰æ•°è¨­å®š

### 1. `.env` ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

```bash
cd ~/CQOx
nvim .env
```

### 2. ä»¥ä¸‹ã‚’è¨˜è¼‰

```bash
# ========================================
# CQOx ç’°å¢ƒå¤‰æ•°è¨­å®š
# ========================================

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆTimescaleDBï¼‰
TIMESCALE_HOST=timescaledb
TIMESCALE_PORT=5432
TIMESCALE_DB=cqox_db
TIMESCALE_USER=cqox_user
TIMESCALE_PASSWORD=cqox_password_2024_secure

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_password_2024

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
BACKEND_PORT=8000
BACKEND_HOST=0.0.0.0

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
FRONTEND_PORT=3000
VITE_API_URL=http://localhost:8000

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Jaegerï¼ˆåˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ï¼‰
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268

# Lokiï¼ˆãƒ­ã‚°é›†ç´„ï¼‰
LOKI_PORT=3100

# Vaultï¼ˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†ï¼‰
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=dev-only-token

# WolframONEçµ±åˆ
WOLFRAM_ENABLED=false  # true ã«ã™ã‚‹å ´åˆã¯ Wolfram Engine ãŒå¿…è¦

# Pythonç’°å¢ƒ
PYTHONUNBUFFERED=1
PYTHONPATH=/app
```

---

## ğŸ³ Dockerã‚¤ãƒ³ãƒ•ãƒ©èµ·å‹•

### 1. å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•ï¼ˆ11ã‚³ãƒ³ãƒ†ãƒŠï¼‰

```bash
cd ~/CQOx

# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•
docker compose up -d

# èµ·å‹•ç¢ºèª
docker compose ps
```

### èµ·å‹•ã•ã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§

| ã‚µãƒ¼ãƒ“ã‚¹ | ãƒãƒ¼ãƒˆ | èª¬æ˜ |
|---------|--------|------|
| **timescaledb** | 5432 | PostgreSQL + æ™‚ç³»åˆ—DBæ‹¡å¼µ |
| **redis** | 6379 | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† |
| **backend** | 8000 | FastAPI ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ |
| **frontend** | 3000 | React ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ |
| **prometheus** | 9090 | ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›† |
| **grafana** | 3001 | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å¯è¦–åŒ– |
| **jaeger** | 16686 | åˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚° UI |
| **loki** | 3100 | ãƒ­ã‚°é›†ç´„ |
| **promtail** | - | ãƒ­ã‚°åé›†ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ |
| **node-exporter** | 9100 | ãƒ›ã‚¹ãƒˆãƒ¡ãƒˆãƒªã‚¯ã‚¹ |
| **gateway** | 80 | Nginxãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚· |

### 2. ãƒ­ã‚°ç¢ºèª

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°
docker compose logs -f

# ç‰¹å®šã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°
docker compose logs -f backend
docker compose logs -f timescaledb
```

### 3. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
curl http://localhost:8000/health

# Prometheus
curl http://localhost:9090/-/healthy

# Grafana
curl http://localhost:3001/api/health
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ

### ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ï¼ˆ1ä¸‡è¡Œï¼‰

```bash
cd ~/CQOx

# Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œ
docker compose exec backend python scripts/generate_marketing_10k.py
```

### å‡ºåŠ›

```
âœ… ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆå®Œäº†
  ãƒ•ã‚¡ã‚¤ãƒ«: data/marketing_campaign_10k.csv
  è¡Œæ•°: 10,000
  åˆ—æ•°: 23
  æ¬ æå€¤: 1,977å€‹ï¼ˆç´„5%ï¼‰
  çœŸã®å› æœåŠ¹æœï¼ˆATEï¼‰: 150å††
```

### ãƒ‡ãƒ¼ã‚¿å†…å®¹

| åˆ—å | èª¬æ˜ | å‹ |
|------|------|-----|
| user_id | é¡§å®¢ID | int |
| date | æ—¥ä»˜ | datetime |
| treatment | å‡¦ç½®ï¼ˆ0=æœªå®Ÿæ–½, 1=å®Ÿæ–½ï¼‰ | int |
| y | ã‚¢ã‚¦ãƒˆã‚«ãƒ ï¼ˆè³¼å…¥é‡‘é¡ï¼‰ | float |
| cost | ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚³ã‚¹ãƒˆ | float |
| propensity_score | å‚¾å‘ã‚¹ã‚³ã‚¢ | float |
| age | å¹´é½¢ | float |
| income | åå…¥ | float |
| education | å­¦æ­´ | str |
| gender | æ€§åˆ¥ | str |
| region | åœ°åŸŸ | str |
| channel | ãƒãƒ£ãƒãƒ« | str |
| previous_purchases | éå»è³¼å…¥æ•° | int |
| engagement_score | ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ | float |
| customer_segment | é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ | str |
| ... | ä»–8åˆ— | - |

---

## ğŸ”§ ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†

### å®Ÿè¡Œ

```bash
docker compose exec backend python scripts/data_preprocessing_pipeline.py
```

### å‡¦ç†å†…å®¹

1. **ãƒ‰ãƒ¡ã‚¤ãƒ³æ¨è«–**ï¼ˆ6è¨€èªå¯¾å¿œï¼‰
   - è‹±èªã€æ—¥æœ¬èªã€ä¸­å›½èªã€éŸ“å›½èªã€ã‚¹ãƒšã‚¤ãƒ³èªã€ãƒ•ãƒ©ãƒ³ã‚¹èª
   - ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°åˆ†é‡ã‚’è‡ªå‹•åˆ¤å®š

2. **ã‚«ãƒ©ãƒ ã‚¿ã‚¤ãƒ—æ¤œå‡º**
   - å‡¦ç½®å¤‰æ•°ã€ã‚¢ã‚¦ãƒˆã‚«ãƒ ã€ã‚³ã‚¹ãƒˆã€å‚¾å‘ã‚¹ã‚³ã‚¢ã€å…±å¤‰é‡ã‚’è‡ªå‹•æ¤œå‡º

3. **æ¬ æå€¤å‡¦ç†**
   - ä¸­å¤®å€¤è£œå®Œï¼ˆæ•°å€¤ï¼‰
   - æœ€é »å€¤è£œå®Œï¼ˆã‚«ãƒ†ã‚´ãƒªï¼‰

4. **è¡¨è¨˜ã‚†ã‚Œæ­£è¦åŒ–**
   - å­¦æ­´: `High School`, `hs`, `high_school` â†’ `high_school`
   - æ€§åˆ¥: `Male`, `M`, `male` â†’ `male`

5. **ç•°å¸¸å€¤å‡¦ç†**
   - ä¸Šä½1%ã€ä¸‹ä½1%ã‚’ã‚­ãƒ£ãƒƒãƒ—

### å‡ºåŠ›

```
âœ… å‰å‡¦ç†å®Œäº†
  ãƒ‰ãƒ¡ã‚¤ãƒ³: marketing (ç¢ºä¿¡åº¦: 70.00%)
  å…¥åŠ›å½¢çŠ¶: (10000, 23)
  å‡ºåŠ›å½¢çŠ¶: (10000, 24)
  å‡¦ç†æ™‚é–“: 0.30ç§’
  å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«: data/marketing_campaign_10k_processed.csv
```

---

## ğŸ’¾ TimescaleDBãƒ‡ãƒ¼ã‚¿æŠ•å…¥

### 1. TimescaleDBã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# TimescaleDBã‚³ãƒ³ãƒ†ãƒŠã«æ¥ç¶š
docker compose exec timescaledb psql -U cqox_user -d cqox_db

# ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆSQLï¼‰
CREATE TABLE IF NOT EXISTS marketing_data (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL,
    date TIMESTAMPTZ NOT NULL,
    treatment INTEGER,
    y FLOAT,
    cost FLOAT,
    propensity_score FLOAT,
    age FLOAT,
    income FLOAT,
    education VARCHAR(50),
    gender VARCHAR(20),
    region VARCHAR(50),
    channel VARCHAR(50),
    previous_purchases INTEGER,
    engagement_score FLOAT,
    customer_segment VARCHAR(50)
);

# TimescaleDB ãƒã‚¤ãƒ‘ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«åŒ–ï¼ˆæ™‚ç³»åˆ—æœ€é©åŒ–ï¼‰
SELECT create_hypertable('marketing_data', 'date', if_not_exists => TRUE);

# çµ‚äº†
\q
```

### 2. ãƒ‡ãƒ¼ã‚¿æŠ•å…¥

```bash
# CSVã‹ã‚‰TimescaleDBã¸ãƒ­ãƒ¼ãƒ‰
docker compose exec backend python scripts/load_to_timescaledb.py
```

### å‡ºåŠ›

```
âœ… TimescaleDBãƒ‡ãƒ¼ã‚¿æŠ•å…¥å®Œäº†
  æŠ•å…¥ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°: 10,000
  ãƒ†ãƒ¼ãƒ–ãƒ«: marketing_data
  ãƒã‚¤ãƒ‘ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«: æœ‰åŠ¹
  ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹: ä½œæˆæ¸ˆã¿
  æ‰€è¦æ™‚é–“: 2.5ç§’
```

---

## ğŸ¯ å…¨æ¨å®šå™¨å®Ÿè¡Œ

### å®Ÿè£…æ¸ˆã¿æ¨å®šå™¨ï¼ˆ23ç¨®é¡ï¼‰

#### ã‚«ãƒ†ã‚´ãƒª1: åŸºæœ¬æ¨å®šå™¨ï¼ˆ7ç¨®é¡ï¼‰

1. **PSM** (Propensity Score Matching) - å‚¾å‘ã‚¹ã‚³ã‚¢ãƒãƒƒãƒãƒ³ã‚°
2. **IPW** (Inverse Probability Weighting) - é€†ç¢ºç‡é‡ã¿ä»˜ã‘
3. **Regression Adjustment** - å›å¸°èª¿æ•´
4. **Doubly Robust** - äºŒé‡ãƒ­ãƒã‚¹ãƒˆæ¨å®š
5. **DiD** (Difference-in-Differences) - å·®åˆ†ã®å·®åˆ†æ³•
6. **RD** (Regression Discontinuity) - å›å¸°ä¸é€£ç¶šãƒ‡ã‚¶ã‚¤ãƒ³
7. **IV** (Instrumental Variables) - æ“ä½œå¤‰æ•°æ³•

#### ã‚«ãƒ†ã‚´ãƒª2: æ©Ÿæ¢°å­¦ç¿’ãƒ™ãƒ¼ã‚¹ï¼ˆ6ç¨®é¡ï¼‰

8. **Causal Forest** - å› æœãƒ©ãƒ³ãƒ€ãƒ ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆ
9. **CATE** (Conditional Average Treatment Effect) - æ¡ä»¶ä»˜ãå¹³å‡å‡¦ç½®åŠ¹æœ
10. **Double Machine Learning** - äºŒé‡æ©Ÿæ¢°å­¦ç¿’
11. **Meta-Learners** (S-Learner, T-Learner, X-Learner)
12. **Causal BART** - ãƒ™ã‚¤ã‚ºåŠ æ³•å›å¸°æœ¨
13. **Neural Networks for Causal Inference** - ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆå› æœæ¨è«–

#### ã‚«ãƒ†ã‚´ãƒª3: é«˜åº¦æ‰‹æ³•ï¼ˆ6ç¨®é¡ï¼‰

14. **G-Computation** - ãƒ‘ãƒ©ãƒ¡ãƒˆãƒªãƒƒã‚¯gå…¬å¼
15. **Synthetic Control** - åˆæˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«æ³•
16. **ITS** (Interrupted Time Series) - ä¸­æ–­æ™‚ç³»åˆ—åˆ†æ
17. **Transportability Analysis** - è»¢é€å¯èƒ½æ€§åˆ†æ
18. **Proximal Causal Inference** - è¿‘æ¥å› æœæ¨è«–
19. **Dose-Response Functions** - ç”¨é‡åå¿œé–¢æ•°

#### ã‚«ãƒ†ã‚´ãƒª4: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ãã®ä»–ï¼ˆ4ç¨®é¡ï¼‰

20. **Network Effects Estimator** - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŠ¹æœæ¨å®š
21. **Mediation Analysis** - åª’ä»‹åˆ†æ
22. **Geographic RD** - åœ°ç†çš„å›å¸°ä¸é€£ç¶š
23. **Bootstrap Inference** - ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—æ¨è«–

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
cd ~/CQOx

# å…¨æ¨å®šå™¨ã‚’ä¸€æ‹¬å®Ÿè¡Œ
docker compose exec backend python scripts/run_all_estimators.py
```

### å‡ºåŠ›ä¾‹

```
==========================================
å…¨æ¨å®šå™¨å®Ÿè¡Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
==========================================

ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿: 10,000è¡Œ

[1/23] PSM (Propensity Score Matching)
  ATE: 203.68å††
  95% CI: [192.58, 214.78]
  P-value: < 0.001
  âœ… çµ±è¨ˆçš„æœ‰æ„

[2/23] IPW (Inverse Probability Weighting)
  ATE: 181.17å††
  95% CI: [170.21, 192.14]
  P-value: < 0.001
  âœ… çµ±è¨ˆçš„æœ‰æ„

[3/23] Regression Adjustment
  ATE: 188.50å††
  95% CI: [180.32, 196.68]
  P-value: < 0.001
  âœ… çµ±è¨ˆçš„æœ‰æ„

...ï¼ˆä¸­ç•¥ï¼‰...

[23/23] Bootstrap Inference
  ATE: 195.23å††
  95% CI (Bootstrap): [185.12, 205.34]
  âœ… å®Œäº†

==========================================
âœ… å…¨æ¨å®šå™¨å®Ÿè¡Œå®Œäº†ï¼
==========================================

å®Ÿè¡Œæ™‚é–“: 45.3ç§’
çµæœä¿å­˜: data/all_estimators_results.json
```

---

## ğŸ’° ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ROIæœ€é©åŒ–

### Phase 1-4 å®Œå…¨å®Ÿè£…

#### Phase 1: å¢—åˆ†ç²—åˆ©ROIè¨ˆç®— + äºˆç®—é…åˆ†æœ€é©åŒ–

```bash
docker compose exec backend python scripts/run_marketing_roi_optimization.py
```

**æ©Ÿèƒ½:**
- å¢—åˆ†ç²—åˆ©ROIè¨ˆç®—ï¼ˆå› æœæ¨è«–ãƒ™ãƒ¼ã‚¹ï¼‰
- äºˆç®—é…åˆ†æœ€é©åŒ–ï¼ˆç·šå½¢è¨ˆç”»æ³• + é£½å’ŒåŠ¹æœãƒ¢ãƒ‡ãƒ«ï¼‰
- ãƒãƒ£ãƒãƒ«åˆ¥ROIåˆ†æ

**å‡ºåŠ›ä¾‹:**

```
==========================================
Phase 1: å¢—åˆ†ç²—åˆ©ROIè¨ˆç®—
==========================================

ãƒãƒ£ãƒãƒ«åˆ¥ROI:
--------------------------------------------------------------------------------

email:
  å¢—åˆ†å£²ä¸Š: 1,250,000å††
  å¢—åˆ†ç²—åˆ©: 500,000å††ï¼ˆç²—åˆ©ç‡40%ï¼‰
  ã‚³ã‚¹ãƒˆ: 150,000å††
  ç´”åˆ©ç›Š: 350,000å††
  ROI: 233.3%
  å›åæœŸé–“: 4.3ãƒ¶æœˆ

display:
  å¢—åˆ†å£²ä¸Š: 2,100,000å††
  å¢—åˆ†ç²—åˆ©: 840,000å††
  ã‚³ã‚¹ãƒˆ: 300,000å††
  ç´”åˆ©ç›Š: 540,000å††
  ROI: 180.0%
  å›åæœŸé–“: 6.7ãƒ¶æœˆ

search:
  å¢—åˆ†å£²ä¸Š: 3,500,000å††
  å¢—åˆ†ç²—åˆ©: 1,400,000å††
  ã‚³ã‚¹ãƒˆ: 500,000å††
  ç´”åˆ©ç›Š: 900,000å††
  ROI: 180.0%
  å›åæœŸé–“: 6.7ãƒ¶æœˆ

social:
  å¢—åˆ†å£²ä¸Š: 1,800,000å††
  å¢—åˆ†ç²—åˆ©: 720,000å††
  ã‚³ã‚¹ãƒˆ: 200,000å††
  ç´”åˆ©ç›Š: 520,000å††
  ROI: 260.0%
  å›åæœŸé–“: 3.8ãƒ¶æœˆ

==========================================
Phase 1: äºˆç®—é…åˆ†æœ€é©åŒ–
==========================================

ç¾åœ¨ã®äºˆç®—é…åˆ†ï¼ˆç·é¡: 115.0ä¸‡å††ï¼‰:
--------------------------------------------------------------------------------
  email: 15ä¸‡å††
  display: 30ä¸‡å††
  search: 50ä¸‡å††
  social: 20ä¸‡å††

ç·šå½¢è¨ˆç”»æ³•ã«ã‚ˆã‚‹æœ€é©åŒ–...

æœ€é©äºˆç®—é…åˆ†:
--------------------------------------------------------------------------------
  email: 23ä¸‡å†† (+8ä¸‡å††)   â† ROIé«˜ã„ã®ã§å¢—é¡
  display: 20ä¸‡å†† (-10ä¸‡å††) â† ROIä½ã„ã®ã§å‰Šæ¸›
  search: 52ä¸‡å†† (+2ä¸‡å††)
  social: 20ä¸‡å†† (å¤‰æ›´ãªã—)

äºˆæƒ³ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:
  äºˆæƒ³ç²—åˆ©: 4,200,000å††
  äºˆæƒ³ã‚³ã‚¹ãƒˆ: 1,150,000å††
  äºˆæƒ³ç´”åˆ©ç›Š: 3,050,000å††
  äºˆæƒ³ROI: 265.2%

ğŸ’° æœŸå¾…æ”¹å–„:
  ç´”åˆ©ç›Šæ”¹å–„: +350,000å†† (+13.0%)

âœ… Phase 1å®Œäº†
```

#### Phase 2: ãƒãƒ«ãƒã‚¿ãƒƒãƒã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ + LTVäºˆæ¸¬

**æ©Ÿèƒ½:**
- Shapleyå€¤ã«ã‚ˆã‚‹ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚²ãƒ¼ãƒ ç†è«–ï¼‰
- XGBoostã«ã‚ˆã‚‹LTVäºˆæ¸¬ï¼ˆ3å¹´é–“ï¼‰

**å‡ºåŠ›ä¾‹:**

```
==========================================
Phase 2: ãƒãƒ«ãƒã‚¿ãƒƒãƒã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³
==========================================

Shapleyå€¤ï¼ˆè²¢çŒ®åº¦ï¼‰:
--------------------------------------------------------------------------------
  search: 35.2%      â† æœ€ã‚‚è²¢çŒ®åº¦ãŒé«˜ã„
  social: 28.5%
  email: 22.1%
  display: 14.2%     â† æœ€ã‚‚è²¢çŒ®åº¦ãŒä½ã„

âœ… Phase 2å®Œäº†

==========================================
Phase 2: é¡§å®¢ç”Ÿæ¶¯ä¾¡å€¤ï¼ˆLTVï¼‰äºˆæ¸¬
==========================================

LTVäºˆæ¸¬ã‚µãƒãƒªãƒ¼:
--------------------------------------------------------------------------------
  å¹³å‡LTVï¼ˆ3å¹´ï¼‰: 125,000å††
  ä¸­å¤®å€¤LTV: 98,000å††
  æœ€å¤§LTV: 450,000å††
  å¹³å‡ãƒãƒ£ãƒ¼ãƒ³ç¢ºç‡: 18.5%
  å¹³å‡ç²å¾—ã‚³ã‚¹ãƒˆé–¾å€¤: 37,500å††ï¼ˆLTVã®30%ï¼‰

ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥LTV:
--------------------------------------------------------------------------------
  High-Value: 280,000å††
  Medium-Value: 120,000å††
  Low-Value: 45,000å††

âœ… Phase 2å®Œäº†
```

#### Phase 3: ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒŸãƒƒã‚¯ã‚¹ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ï¼ˆMMMï¼‰

**æ©Ÿèƒ½:**
- ãƒãƒ£ãƒãƒ«é–“ã®ã‚·ãƒŠã‚¸ãƒ¼åŠ¹æœæ¨å®š
- ã‚­ãƒ£ãƒªãƒ¼ã‚ªãƒ¼ãƒãƒ¼åŠ¹æœï¼ˆé…å»¶åŠ¹æœï¼‰
- é£½å’ŒåŠ¹æœãƒ¢ãƒ‡ãƒªãƒ³ã‚°

**å‡ºåŠ›ä¾‹:**

```
==========================================
Phase 3: ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒŸãƒƒã‚¯ã‚¹ãƒ¢ãƒ‡ãƒªãƒ³ã‚°
==========================================

MMMãƒ¢ãƒ‡ãƒ«å­¦ç¿’å®Œäº†
  RÂ²: 0.856  â† èª¬æ˜ç‡85.6%

ã‚·ãƒŠãƒªã‚ªã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸­...

ã‚·ãƒŠãƒªã‚ª: socialã®äºˆç®—ã‚’50%å¢—é¡
--------------------------------------------------------------------------------
  ç¾åœ¨ã®å£²ä¸Š: 8,500,000å††
  äºˆæƒ³å£²ä¸Š: 9,200,000å††
  å¢—åˆ†å£²ä¸Š: 700,000å††
  å¢—åˆ†ç²—åˆ©: 280,000å††
  å¢—åˆ†ã‚³ã‚¹ãƒˆ: 100,000å††
  å¢—åˆ†ç´”åˆ©ç›Š: 180,000å††
  å¢—åˆ†ROI: 180.0%

âœ… Phase 3å®Œäº†
```

#### Phase 4: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

**æ©Ÿèƒ½:**
- è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- ç•°å¸¸æ¤œçŸ¥
- æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç”Ÿæˆ

**å‡ºåŠ›ä¾‹:**

```
==========================================
ğŸ“Š ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼
==========================================

æœŸé–“: 2025å¹´11æœˆ11æ—¥

ã€ç¾åœ¨ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‘
--------------------------------------------------------------------------------
  ç·äºˆç®—: 115ä¸‡å††
  å¹³å‡ROI: 213.3%

ã€æœ€é©åŒ–ææ¡ˆã€‘
--------------------------------------------------------------------------------
  æœŸå¾…æ”¹å–„ç‡: 13.0%

ã€ğŸš¨ ã‚¢ãƒ©ãƒ¼ãƒˆã€‘
--------------------------------------------------------------------------------
  âš ï¸  display ã®ROIãŒä½ã„ï¼ˆ120.0%ï¼‰ã€‚ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–A/Bãƒ†ã‚¹ãƒˆã‚’æ¨å¥¨ã€‚

ã€ğŸ’¡ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€‘
--------------------------------------------------------------------------------
  âœ… email: äºˆç®—ã‚’8ä¸‡å††å¢—é¡ï¼ˆ15ä¸‡å†† â†’ 23ä¸‡å††ï¼‰
  âŒ display: äºˆç®—ã‚’10ä¸‡å††å‰Šæ¸›ï¼ˆ30ä¸‡å†† â†’ 20ä¸‡å††ï¼‰
  âœ… search: äºˆç®—ã‚’2ä¸‡å††å¢—é¡ï¼ˆ50ä¸‡å†† â†’ 52ä¸‡å††ï¼‰

âœ… Phase 4å®Œäº†

==========================================
âœ… å…¨Phaseå®Œäº†ï¼
==========================================

å®Ÿè¡Œæ™‚é–“: 12.8ç§’
ğŸ“„ çµæœä¿å­˜: data/marketing_roi_optimization_results.json
```

---

## ğŸ”® åå®Ÿä»®æƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### 8ã¤ã®åå®Ÿä»®æƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | ç¯„å›² | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
|-----------|------|------|-----------|
| **coverage** | ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼ˆåˆ°é”ç‡ï¼‰ | 0-100% | 30% |
| **budget_cap** | äºˆç®—ä¸Šé™ | 0-100,000,000å†† | 12,000,000å†† |
| **policy_threshold** | ãƒãƒªã‚·ãƒ¼é–¾å€¤ | 0-1 | 0.5 |
| **neighbor_boost** | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŠ¹æœãƒ–ãƒ¼ã‚¹ãƒˆ | 0-1 | 0.1 |
| **geo_multiplier** | åœ°ç†çš„å€ç‡ | 0-5 | 1.0 |
| **network_size** | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µã‚¤ã‚º | 0-100 | 20 |
| **value_per_y** | 1å˜ä½ã‚ãŸã‚Šä¾¡å€¤ | 0-10,000å†† | 1,000å†† |
| **cost_per_treated** | å‡¦ç½®ã‚³ã‚¹ãƒˆ | 0-5,000å†† | 500å†† |

### åå®Ÿä»®æƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ3ç¨®é¡ï¼‰

1. **LinearCounterfactualSystem**
   - ãƒ¢ãƒ‡ãƒ«: Y(0) = Î± + Î²X + Îµ
   - ç”¨é€”: ç·šå½¢é–¢ä¿‚ã®æ¨å®š

2. **NonlinearCounterfactualSystem**
   - ãƒ¢ãƒ‡ãƒ«: Y(0) = Î± + Î²â‚X + Î²â‚‚XÂ² + ... + Î²â‚–Xáµ
   - ç”¨é€”: éç·šå½¢é–¢ä¿‚ï¼ˆå¤šé …å¼ + Ridgeæ­£å‰‡åŒ–ï¼‰

3. **MLBasedCounterfactualSystem**
   - ãƒ¢ãƒ‡ãƒ«: Random Forest / Neural Network
   - ç”¨é€”: è¤‡é›‘ãªéç·šå½¢é–¢ä¿‚

### OPEï¼ˆOff-Policy Evaluationï¼‰

- **IPS** (Inverse Propensity Score)
- **SNIPS** (Self-Normalized IPS)
- **DR** (Doubly Robust)

### å®Ÿè¡Œ

```bash
# UIã‹ã‚‰å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ãã€
ã€ŒScenario Playgroundã€ã§8ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´

# ã¾ãŸã¯CLIã‹ã‚‰å®Ÿè¡Œ
docker compose exec backend python scripts/run_counterfactual_scenario.py \
  --coverage 30 \
  --budget-cap 12000000 \
  --policy-threshold 0.5 \
  --neighbor-boost 0.1 \
  --geo-multiplier 1.0 \
  --network-size 20 \
  --value-per-y 1000 \
  --cost-per-treated 500
```

### å‡ºåŠ›ä¾‹

```
==========================================
åå®Ÿä»®æƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
==========================================

ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:
  ã‚«ãƒãƒ¬ãƒƒã‚¸: 30%
  äºˆç®—ä¸Šé™: 12,000,000å††
  ãƒãƒªã‚·ãƒ¼é–¾å€¤: 0.5
  ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŠ¹æœ: 10%
  åœ°ç†å€ç‡: 1.0x
  ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µã‚¤ã‚º: 20
  1å˜ä½ä¾¡å€¤: 1,000å††
  å‡¦ç½®ã‚³ã‚¹ãƒˆ: 500å††

3ã¤ã®åå®Ÿä»®æƒ³ã‚·ã‚¹ãƒ†ãƒ ã§æ¨å®šä¸­...

[1/3] LinearCounterfactualSystem
  æ¨å®šATE: 198.5å††
  ä¿¡é ¼åŒºé–“: [188.2, 208.8]

[2/3] NonlinearCounterfactualSystem
  æ¨å®šATE: 205.3å††
  ä¿¡é ¼åŒºé–“: [193.1, 217.5]

[3/3] MLBasedCounterfactualSystem (Random Forest)
  æ¨å®šATE: 202.1å††
  ä¿¡é ¼åŒºé–“: [190.4, 213.8]

OPEè©•ä¾¡:
  IPS: 200.5å††
  SNIPS: 198.2å††
  DR: 201.8å††

Quality Gatesåˆ¤å®š:
  äºˆæƒ³ROI: 240.3%
  äºˆç®—åŠ¹ç‡: 85.2%
  åˆ¤å®š: âœ… GOï¼ˆå®Ÿæ–½æ¨å¥¨ï¼‰

âœ… ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†
```

---

## ğŸ¨ 3Då¯è¦–åŒ–ç”Ÿæˆ

### 8ç¨®é¡ã®3Dãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯è¦–åŒ–

```bash
cd ~/CQOx

# Pythonå¯è¦–åŒ–ç”Ÿæˆï¼ˆPlotlyï¼‰
docker compose exec backend python scripts/create_visualizations_full.py
```

### ç”Ÿæˆã•ã‚Œã‚‹å¯è¦–åŒ–ãƒ•ã‚¡ã‚¤ãƒ«

#### 1. 3Då› æœåŠ¹æœæ›²é¢ï¼ˆå¹´é½¢Ã—åå…¥ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `visualizations/3d_treatment_effect_surface.html`

**å†…å®¹**:
- Xè»¸: å¹´é½¢
- Yè»¸: åå…¥
- Zè»¸: å‡¦ç½®åŠ¹æœï¼ˆå††ï¼‰
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–: ãƒã‚¦ã‚¹ã§å›è»¢ãƒ»ã‚ºãƒ¼ãƒ å¯èƒ½

**ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨**:
- ã©ã®é¡§å®¢å±¤ã«åŠ¹æœãŒé«˜ã„ã‹ä¸€ç›®ã§åˆ†ã‹ã‚‹
- ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥ã®æœ€é©åŒ–

#### 2. ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–DAGï¼ˆå› æœå›³ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `visualizations/interactive_dag.html`

**å†…å®¹**:
- ãƒãƒ¼ãƒ‰: Zï¼ˆæ“ä½œå¤‰æ•°ï¼‰, Xï¼ˆå…±å¤‰é‡ï¼‰, Tï¼ˆå‡¦ç½®ï¼‰, Yï¼ˆã‚¢ã‚¦ãƒˆã‚«ãƒ ï¼‰, Uï¼ˆæœªè¦³æ¸¬ï¼‰
- ã‚¨ãƒƒã‚¸: å› æœé–¢ä¿‚ã®çŸ¢å°
- ãƒ›ãƒãƒ¼: å„ãƒãƒ¼ãƒ‰ã®èª¬æ˜è¡¨ç¤º

**ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨**:
- å› æœé–¢ä¿‚ã‚’ç›´æ„Ÿçš„ã«ç†è§£
- ãƒ—ãƒ¬ã‚¼ãƒ³è³‡æ–™ã«æœ€é©

#### 3. æ™‚ç³»åˆ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

**ãƒ•ã‚¡ã‚¤ãƒ«**: `visualizations/time_series_animation.html`

**å†…å®¹**:
- é€±ã”ã¨ã®å‡¦ç½®ç¾¤ãƒ»å¯¾ç…§ç¾¤ã®æ¨ç§»
- å†ç”Ÿãƒœã‚¿ãƒ³ã§æ™‚é–“çµŒéã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- å‡¦ç½®ç¾¤ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ï¼‰vs å¯¾ç…§ç¾¤ï¼ˆé’ï¼‰

**ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨**:
- åŠ¹æœã®æ™‚é–“å¤‰åŒ–ã‚’å¯è¦–åŒ–
- å­£ç¯€æ€§ã®ç¢ºèª

#### 4. 3Dãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚°ãƒ©ãƒ•

**ãƒ•ã‚¡ã‚¤ãƒ«**: `visualizations/3d_network_graph.html`

**å†…å®¹**:
- Xè»¸: å¹³å‡å¹´é½¢
- Yè»¸: å¹³å‡åå…¥
- Zè»¸: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éœ²å‡ºåº¦
- çƒã®å¤§ãã•: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å½±éŸ¿åŠ›

**ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨**:
- ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼é–“ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŠ¹æœã‚’å¯è¦–åŒ–
- å£ã‚³ãƒŸæˆ¦ç•¥ã®æœ€é©åŒ–

#### 5. æ¨å®šå™¨æ¯”è¼ƒ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `visualizations/estimator_comparison.html`

**å†…å®¹**:
- 23ç¨®é¡ã®æ¨å®šå™¨ã®ATEï¼ˆå¹³å‡å‡¦ç½®åŠ¹æœï¼‰ã‚’ä¸¦ã¹ã¦æ¯”è¼ƒ
- ã‚¨ãƒ©ãƒ¼ãƒãƒ¼: 95%ä¿¡é ¼åŒºé–“
- è‰²: åŠ¹æœã®å¤§ãã•ï¼ˆç·‘=å¤§ã€èµ¤=å°ï¼‰

**ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨**:
- åˆ†æã®é ‘å¥æ€§ã‚’ç¢ºèª
- ç•°å¸¸ãªçµæœã®æ¤œå‡º

#### 6. å‚¾å‘ã‚¹ã‚³ã‚¢åˆ†å¸ƒ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `visualizations/propensity_score_distribution.html`

**å†…å®¹**:
- å‡¦ç½®ç¾¤ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ï¼‰vs å¯¾ç…§ç¾¤ï¼ˆé’ï¼‰ã®å‚¾å‘ã‚¹ã‚³ã‚¢åˆ†å¸ƒ
- ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—é ˜åŸŸã®ãƒã‚§ãƒƒã‚¯

**ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨**:
- æ¯”è¼ƒå¯èƒ½æ€§ã®ç¢ºèª
- ã‚µãƒ³ãƒ—ãƒ«é¸æŠãƒã‚¤ã‚¢ã‚¹ã®æ¤œå‡º

#### 7. 4Då¯è¦–åŒ–ï¼ˆ3D + æ™‚é–“ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `visualizations/4d_visualization.html`

**å†…å®¹**:
- Xè»¸: å¹´é½¢
- Yè»¸: åå…¥
- Zè»¸: ã‚¢ã‚¦ãƒˆã‚«ãƒ 
- æ™‚é–“è»¸: æœˆã”ã¨ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- ç‚¹ã®å¤§ãã•: ã‚³ã‚¹ãƒˆ
- è‰²: å‡¦ç½®ç¾¤/å¯¾ç…§ç¾¤

**ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨**:
- 4æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ï¼ˆNASA/Googleæ¨™æº–ï¼‰
- æ™‚ç©ºé–“ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç™ºè¦‹

#### 8. CATEãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—

**ãƒ•ã‚¡ã‚¤ãƒ«**: `visualizations/cate_heatmap.html`

**å†…å®¹**:
- Xè»¸: å¹´é½¢ã‚°ãƒ«ãƒ¼ãƒ—
- Yè»¸: åå…¥ã‚°ãƒ«ãƒ¼ãƒ—
- è‰²: å‡¦ç½®åŠ¹æœï¼ˆèµ¤=é«˜ã€é’=ä½ï¼‰

**ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨**:
- ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥åŠ¹æœã®å¯è¦–åŒ–
- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆé¡§å®¢ã®ç‰¹å®š

### å‡ºåŠ›

```
âœ… å¯è¦–åŒ–ç”Ÿæˆå®Œäº†ï¼
  ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«æ•°: 8
  ä¿å­˜å…ˆ: visualizations/
  ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 8KBã€œ35KBï¼ˆPlotly CDNä½¿ç”¨ï¼‰

ç”Ÿæˆã•ã‚ŒãŸå¯è¦–åŒ–ãƒ•ã‚¡ã‚¤ãƒ«:
  ğŸ“Š 3d_treatment_effect_surface.html
  ğŸ“Š interactive_dag.html
  ğŸ“Š time_series_animation.html
  ğŸ“Š 3d_network_graph.html
  ğŸ“Š estimator_comparison.html
  ğŸ“Š propensity_score_distribution.html
  ğŸ“Š 4d_visualization.html
  ğŸ“Š cate_heatmap.html

ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã:
  firefox visualizations/3d_treatment_effect_surface.html
```

---

## ğŸ§® WolframONEçµ±åˆ

### æ¦‚è¦

Wolfram Engineçµ±åˆã«ã‚ˆã‚Šã€é«˜åº¦ãªæ•°å­¦çš„å¯è¦–åŒ–ãŒå¯èƒ½ã€‚

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

1. `backend/engine/wolfram_integrated.py`
2. `backend/engine/wolfram_cf_visualizer.py`
3. `backend/engine/wolfram_visualizer_fixed.py`

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
# Wolfram Engineã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆç„¡æ–™ã‚¢ã‚«ãƒ‡ãƒŸãƒƒã‚¯ç‰ˆï¼‰
# https://www.wolfram.com/engine/

# Pythonãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°
pip install wolframclient

# .envãƒ•ã‚¡ã‚¤ãƒ«ã§æœ‰åŠ¹åŒ–
WOLFRAM_ENABLED=true
```

### å®Ÿè¡Œ

```bash
# WolframONEå¯è¦–åŒ–ç”Ÿæˆ
docker compose exec backend python scripts/create_wolfram_visualizations.py
```

### ç”Ÿæˆã•ã‚Œã‚‹å¯è¦–åŒ–

- 3Då› æœåŠ¹æœæ›²é¢ï¼ˆWolframå“è³ªï¼‰
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ“ä½œ
- æ•°å¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

**æ³¨**: Wolfram Engineæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å ´åˆã€Plotlyå¯è¦–åŒ–ã§ä»£æ›¿å¯èƒ½ã€‚

---

## ğŸ–¥ï¸ UIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•ç¢ºèª

```bash
# ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã
firefox http://localhost:3000
```

### 2. ä¸»è¦æ©Ÿèƒ½

#### A. ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç®¡ç†

- **ãƒ‘ã‚¹**: `/datasets`
- **æ©Ÿèƒ½**: ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ä¸€è¦§ã€å‰Šé™¤

#### B. æ¨å®šå™¨å®Ÿè¡Œ

- **ãƒ‘ã‚¹**: `/estimators`
- **æ©Ÿèƒ½**: 23ç¨®é¡ã®æ¨å®šå™¨ã‹ã‚‰é¸æŠã—ã¦å®Ÿè¡Œ
- **å‡ºåŠ›**: ATEã€ä¿¡é ¼åŒºé–“ã€På€¤ã€å¯è¦–åŒ–

#### C. Scenario Playground

- **ãƒ‘ã‚¹**: `/scenario-playground`
- **æ©Ÿèƒ½**: 8ã¤ã®åå®Ÿä»®æƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ã—ã¦ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  - coverage ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆ0-100%ï¼‰
  - budget_cap ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆ0-100,000,000å††ï¼‰
  - policy_threshold ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆ0-1ï¼‰
  - neighbor_boost ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆ0-1ï¼‰
  - geo_multiplier ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆ0-5ï¼‰
  - network_size ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆ0-100ï¼‰
  - value_per_y ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆ0-10,000å††ï¼‰
  - cost_per_treated ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆ0-5,000å††ï¼‰
- **å‡ºåŠ›**: Base vs Counterfactual vs Î” ã®3ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ

#### D. Objective Comparison

- **ãƒ‘ã‚¹**: `/objective-comparison`
- **æ©Ÿèƒ½**: è¤‡æ•°ã‚·ãƒŠãƒªã‚ªã®KPIæ¯”è¼ƒï¼ˆROIã€äºˆç®—åŠ¹ç‡ãªã©ï¼‰

#### E. Quality Gates

- **ãƒ‘ã‚¹**: `/quality-gates`
- **æ©Ÿèƒ½**: GO/CANARY/HOLDåˆ¤å®š
- **åˆ¤å®šåŸºæº–**:
  - ROI > 150% â†’ GO
  - 100% < ROI â‰¤ 150% â†’ CANARY
  - ROI â‰¤ 100% â†’ HOLD

#### F. Counterfactual Dashboard

- **ãƒ‘ã‚¹**: `/counterfactual-dashboard`
- **æ©Ÿèƒ½**: åå®Ÿä»®æƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

### 3. UIæ“ä½œãƒ•ãƒ­ãƒ¼ä¾‹

```
1. ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   â†’ /datasets â†’ Upload â†’ marketing_campaign_10k_processed.csv

2. æ¨å®šå™¨å®Ÿè¡Œ
   â†’ /estimators â†’ ã€ŒPSMã€é¸æŠ â†’ Run
   â†’ çµæœè¡¨ç¤º: ATE = 203.68å††

3. Scenario Playground
   â†’ /scenario-playground
   â†’ coverage ã‚’ 30% â†’ 50% ã«å¤‰æ›´
   â†’ budget_cap ã‚’ 12,000,000å†† â†’ 20,000,000å†† ã«å¤‰æ›´
   â†’ ã€ŒRun Scenarioã€ã‚¯ãƒªãƒƒã‚¯
   â†’ Base/CF/Î” ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç”Ÿæˆ

4. Quality Gatesåˆ¤å®š
   â†’ /quality-gates
   â†’ è‡ªå‹•åˆ¤å®š: âœ… GOï¼ˆROI 240.3%ï¼‰

5. å¯è¦–åŒ–ç¢ºèª
   â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã§ visualizations/3d_treatment_effect_surface.html ã‚’é–‹ã
```

---

## ğŸ“¡ ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£

### 1. Prometheusï¼ˆãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ï¼‰

**URL**: http://localhost:9090

**ä¸»è¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹**:
- `http_requests_total` - ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°
- `http_request_duration_seconds` - ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“
- `python_gc_collections_total` - GCå›æ•°
- `process_cpu_seconds_total` - CPUä½¿ç”¨ç‡

**ã‚¯ã‚¨ãƒªä¾‹**:

```promql
# ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆï¼ˆ1åˆ†é–“ï¼‰
rate(http_requests_total[1m])

# 95ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“
histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))

# ã‚¨ãƒ©ãƒ¼ç‡
rate(http_requests_total{status=~"5.."}[5m])
```

### 2. Grafanaï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰

**URL**: http://localhost:3001
**ãƒ­ã‚°ã‚¤ãƒ³**: admin / admin

**çµ„ã¿è¾¼ã¿ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**:
- CQOx Overview
- Request Metrics
- Error Tracking
- System Metrics

**ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**:

```bash
# Grafanaã«ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æ¸ˆã¿
# è¿½åŠ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ grafana/dashboards/ ã«é…ç½®
```

### 3. Jaegerï¼ˆåˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ï¼‰

**URL**: http://localhost:16686

**æ©Ÿèƒ½**:
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒˆãƒ¬ãƒ¼ã‚¹
- ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·åˆ†æ
- ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ—

**ãƒˆãƒ¬ãƒ¼ã‚¹æ¤œç´¢**:

```
1. Service: backend
2. Operation: POST /api/run-scenario
3. Tags: user_id=12345
4. Search
```

### 4. Lokiï¼ˆãƒ­ã‚°é›†ç´„ï¼‰

**URL**: http://localhost:3100

**Grafanaã‹ã‚‰å‚ç…§**:
- Data Sources â†’ Loki
- Explore â†’ Log browser

**LogQLã‚¯ã‚¨ãƒªä¾‹**:

```logql
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
{job="backend"} |= "ERROR"

# éå»1æ™‚é–“ã®ãƒ­ã‚°
{job="backend"} [1h]

# ãƒ­ã‚°ãƒ¬ãƒ¼ãƒˆ
rate({job="backend"}[5m])
```

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: Dockerèµ·å‹•å¤±æ•—

**ç—‡çŠ¶**:
```
ERROR: Cannot connect to the Docker daemon
```

**è§£æ±ºç­–**:
```bash
# Dockerã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
sudo systemctl start docker

# ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ç¢ºèª
sudo usermod -aG docker $USER
newgrp docker

# å†èµ·å‹•
docker compose up -d
```

---

### å•é¡Œ2: ãƒãƒ¼ãƒˆè¡çª

**ç—‡çŠ¶**:
```
Error: port is already allocated
```

**è§£æ±ºç­–**:
```bash
# ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆã‚’ç¢ºèª
sudo netstat -tulpn | grep :8000

# ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢
sudo kill -9 <PID>

# ã¾ãŸã¯docker-compose.ymlã§ãƒãƒ¼ãƒˆå¤‰æ›´
```

---

### å•é¡Œ3: TimescaleDBæ¥ç¶šã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**:
```
psycopg2.OperationalError: could not connect to server
```

**è§£æ±ºç­–**:
```bash
# TimescaleDBã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ç¢ºèª
docker compose ps timescaledb

# ãƒ­ã‚°ç¢ºèª
docker compose logs timescaledb

# å†èµ·å‹•
docker compose restart timescaledb

# æ¥ç¶šãƒ†ã‚¹ãƒˆ
docker compose exec timescaledb psql -U cqox_user -d cqox_db
```

---

### å•é¡Œ4: Pythonä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**:
```
ModuleNotFoundError: No module named 'xxx'
```

**è§£æ±ºç­–**:
```bash
# requirements.txt ã‹ã‚‰å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
docker compose exec backend pip install -r requirements.txt

# ã¾ãŸã¯å€‹åˆ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
docker compose exec backend pip install <package-name>

# ã‚³ãƒ³ãƒ†ãƒŠå†ãƒ“ãƒ«ãƒ‰
docker compose up -d --build backend
```

---

### å•é¡Œ5: ãƒ¡ãƒ¢ãƒªä¸è¶³

**ç—‡çŠ¶**:
```
MemoryError / OOMKilled
```

**è§£æ±ºç­–**:
```bash
# Dockerãƒ¡ãƒ¢ãƒªåˆ¶é™ç·©å’Œï¼ˆdocker-compose.ymlï¼‰
services:
  backend:
    deploy:
      resources:
        limits:
          memory: 4G  # 2G â†’ 4G ã«å¢—ã‚„ã™

# ã‚¹ãƒ¯ãƒƒãƒ—æœ‰åŠ¹åŒ–
sudo swapon --show
sudo fallocate -l 4G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

---

### å•é¡Œ6: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**:
```
npm ERR! code ELIFECYCLE
```

**è§£æ±ºç­–**:
```bash
# node_moduleså‰Šé™¤ã—ã¦å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
docker compose exec frontend rm -rf node_modules
docker compose exec frontend npm install

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
docker compose exec frontend npm cache clean --force

# ã‚³ãƒ³ãƒ†ãƒŠå†ãƒ“ãƒ«ãƒ‰
docker compose up -d --build frontend
```

---

### å•é¡Œ7: å¯è¦–åŒ–ãƒ•ã‚¡ã‚¤ãƒ«ãŒé–‹ã‘ãªã„

**ç—‡çŠ¶**:
- HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã„ã¦ã‚‚çœŸã£ç™½

**è§£æ±ºç­–**:
```bash
# CDNæ¥ç¶šç¢ºèªï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒå¿…è¦ï¼‰
curl -I https://cdn.plot.ly/plotly-2.26.0.min.js

# ãƒ­ãƒ¼ã‚«ãƒ«ã§é–‹ãå ´åˆï¼ˆfirefoxã¾ãŸã¯chromeï¼‰
firefox visualizations/3d_treatment_effect_surface.html

# ã¾ãŸã¯HTTPã‚µãƒ¼ãƒãƒ¼çµŒç”±ã§é–‹ã
cd visualizations
python -m http.server 8080
# ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8080/ ã‚’é–‹ã
```

---

### å•é¡Œ8: å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸€æ‹¬å†èµ·å‹•

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
docker compose down

# ãƒœãƒªãƒ¥ãƒ¼ãƒ å«ã‚ã¦å®Œå…¨å‰Šé™¤ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚‚å‰Šé™¤ã•ã‚Œã‚‹ã®ã§æ³¨æ„ï¼ï¼‰
docker compose down -v

# å†èµ·å‹•
docker compose up -d

# ãƒ­ã‚°ç¢ºèª
docker compose logs -f
```

---

## âœ… å®Œå…¨å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ã‚¤ãƒ³ãƒ•ãƒ©ï¼ˆ11ã‚µãƒ¼ãƒ“ã‚¹ï¼‰

- [ ] TimescaleDB èµ·å‹•ç¢ºèª
- [ ] Redis èµ·å‹•ç¢ºèª
- [ ] Backendï¼ˆFastAPIï¼‰èµ·å‹•ç¢ºèª
- [ ] Frontendï¼ˆReactï¼‰èµ·å‹•ç¢ºèª
- [ ] Prometheus èµ·å‹•ç¢ºèª
- [ ] Grafana èµ·å‹•ç¢ºèª
- [ ] Jaeger èµ·å‹•ç¢ºèª
- [ ] Loki èµ·å‹•ç¢ºèª
- [ ] Promtail èµ·å‹•ç¢ºèª
- [ ] Node Exporter èµ·å‹•ç¢ºèª
- [ ] Gatewayï¼ˆNginxï¼‰èµ·å‹•ç¢ºèª

### ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

- [ ] ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆ10,000è¡Œï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†ï¼ˆæ¬ æå€¤ã€ç•°å¸¸å€¤ã€è¡¨è¨˜ã‚†ã‚Œï¼‰
- [ ] TimescaleDB ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
- [ ] ãƒã‚¤ãƒ‘ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ

### æ¨å®šå™¨ï¼ˆ23ç¨®é¡ï¼‰

- [ ] PSM å®Ÿè¡Œ
- [ ] IPW å®Ÿè¡Œ
- [ ] Regression Adjustment å®Ÿè¡Œ
- [ ] Doubly Robust å®Ÿè¡Œ
- [ ] DiD å®Ÿè¡Œ
- [ ] RD å®Ÿè¡Œ
- [ ] IV å®Ÿè¡Œ
- [ ] Causal Forest å®Ÿè¡Œ
- [ ] CATE å®Ÿè¡Œ
- [ ] Double ML å®Ÿè¡Œ
- [ ] Meta-Learners å®Ÿè¡Œ
- [ ] Causal BART å®Ÿè¡Œ
- [ ] Neural Networks å®Ÿè¡Œ
- [ ] G-Computation å®Ÿè¡Œ
- [ ] Synthetic Control å®Ÿè¡Œ
- [ ] ITS å®Ÿè¡Œ
- [ ] Transportability å®Ÿè¡Œ
- [ ] Proximal å®Ÿè¡Œ
- [ ] Dose-Response å®Ÿè¡Œ
- [ ] Network Effects å®Ÿè¡Œ
- [ ] Mediation å®Ÿè¡Œ
- [ ] Geographic RD å®Ÿè¡Œ
- [ ] Bootstrap å®Ÿè¡Œ

### ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ROIæœ€é©åŒ–ï¼ˆPhase 1-4ï¼‰

- [ ] Phase 1: å¢—åˆ†ç²—åˆ©ROIè¨ˆç®—
- [ ] Phase 1: äºˆç®—é…åˆ†æœ€é©åŒ–ï¼ˆç·šå½¢è¨ˆç”»æ³•ï¼‰
- [ ] Phase 1: é£½å’ŒåŠ¹æœãƒ¢ãƒ‡ãƒ«
- [ ] Phase 2: ãƒãƒ«ãƒã‚¿ãƒƒãƒã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆShapleyå€¤ï¼‰
- [ ] Phase 2: LTVäºˆæ¸¬ï¼ˆXGBoostï¼‰
- [ ] Phase 3: ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒŸãƒƒã‚¯ã‚¹ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ï¼ˆMMMï¼‰
- [ ] Phase 4: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- [ ] Phase 4: è‡ªå‹•æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### åå®Ÿä»®æƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ8ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰

- [ ] coverage ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…
- [ ] budget_cap ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…
- [ ] policy_threshold ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…
- [ ] neighbor_boost ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…
- [ ] geo_multiplier ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…
- [ ] network_size ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…
- [ ] value_per_y ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…
- [ ] cost_per_treated ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿè£…
- [ ] LinearCounterfactualSystem å®Ÿè¡Œ
- [ ] NonlinearCounterfactualSystem å®Ÿè¡Œ
- [ ] MLBasedCounterfactualSystem å®Ÿè¡Œ
- [ ] OPE (IPS, SNIPS, DR) å®Ÿè¡Œ

### å¯è¦–åŒ–ï¼ˆ8ç¨®é¡ + WolframONEï¼‰

- [ ] 3Då› æœåŠ¹æœæ›²é¢
- [ ] ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–DAG
- [ ] æ™‚ç³»åˆ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] 3Dãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚°ãƒ©ãƒ•
- [ ] æ¨å®šå™¨æ¯”è¼ƒ
- [ ] å‚¾å‘ã‚¹ã‚³ã‚¢åˆ†å¸ƒ
- [ ] 4Då¯è¦–åŒ–ï¼ˆ3D + æ™‚é–“ï¼‰
- [ ] CATEãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
- [ ] WolframONEçµ±åˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### UIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

- [ ] ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç®¡ç†ç”»é¢
- [ ] æ¨å®šå™¨å®Ÿè¡Œç”»é¢
- [ ] Scenario Playgroundï¼ˆ8ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼‰
- [ ] Objective Comparison
- [ ] Quality Gates
- [ ] Counterfactual Dashboard

### ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£

- [ ] Prometheus ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- [ ] Grafana ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- [ ] Jaeger åˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°
- [ ] Loki ãƒ­ã‚°é›†ç´„

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- [ ] Vault ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- [ ] ç’°å¢ƒå¤‰æ•° `.env` è¨­å®š
- [ ] Docker ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†é›¢

---

## ğŸ“ å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

### å› æœæ¨è«–

- Pearl, J. (2009). *Causality: Models, Reasoning, and Inference*
- Imbens, G. W., & Rubin, D. B. (2015). *Causal Inference for Statistics, Social, and Biomedical Sciences*

### ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚µã‚¤ã‚¨ãƒ³ã‚¹

- Chan, D., & Perry, M. (2017). *Challenges and Opportunities in Media Mix Modeling*
- Dalessandro, B., et al. (2012). *Causally Motivated Attribution for Online Advertising*

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- TimescaleDB: https://docs.timescale.com/
- FastAPI: https://fastapi.tiangolo.com/
- React: https://react.dev/
- Plotly: https://plotly.com/python/
- Prometheus: https://prometheus.io/docs/

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

### GitHub Issues

https://github.com/onodera22ten/CQOx/issues

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- README.md - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- ARCHITECTURE.md - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
- API_REFERENCE.md - APIä»•æ§˜

---

## ğŸ‰ ã¾ã¨ã‚

ã“ã®EXECUTION_LOG.mdã«å¾“ãˆã°ã€Fedora/Linuxç’°å¢ƒã§ä»¥ä¸‹ãŒå®Œå…¨å‹•ä½œã—ã¾ã™ï¼š

âœ… **Dockerã§11ã‚µãƒ¼ãƒ“ã‚¹ä¸€æ‹¬èµ·å‹•**ï¼ˆTimescaleDB, Redis, Backend, Frontend, Prometheus, Grafana, Jaeger, Loki, Promtail, Node Exporter, Gatewayï¼‰

âœ… **ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Œå…¨è‡ªå‹•åŒ–**ï¼ˆç”Ÿæˆ â†’ å‰å‡¦ç† â†’ TimescaleDBæŠ•å…¥ï¼‰

âœ… **23ç¨®é¡ã®æ¨å®šå™¨å®Ÿè¡Œ**ï¼ˆPSM, IPW, DiD, IV, Causal Forest, CATE, Double ML, G-Computation, Synthetic Control, etc.ï¼‰

âœ… **ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ROIæœ€é©åŒ–ï¼ˆPhase 1-4ï¼‰**ï¼ˆå¢—åˆ†ç²—åˆ©ROI, äºˆç®—æœ€é©åŒ–, ãƒãƒ«ãƒã‚¿ãƒƒãƒã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³, LTVäºˆæ¸¬, MMM, ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰

âœ… **åå®Ÿä»®æƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ8ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰**ï¼ˆcoverage, budget_cap, policy_threshold, neighbor_boost, geo_multiplier, network_size, value_per_y, cost_per_treatedï¼‰

âœ… **3Dãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯è¦–åŒ–ï¼ˆ8ç¨®é¡ + WolframONEï¼‰**ï¼ˆ3Dæ›²é¢, DAG, æ™‚ç³»åˆ—, ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯, æ¨å®šå™¨æ¯”è¼ƒ, å‚¾å‘ã‚¹ã‚³ã‚¢, 4D, CATEï¼‰

âœ… **å®Œå…¨ãªUIãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç®¡ç†, æ¨å®šå™¨å®Ÿè¡Œ, Scenario Playground, Quality Gates, Counterfactual Dashboardï¼‰

âœ… **ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚°ãƒ¬ãƒ¼ãƒ‰ã®ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£**ï¼ˆPrometheus, Grafana, Jaeger, Lokiï¼‰

---

**ğŸš€ CQOx - ä¸–ç•Œæœ€é«˜å³°ã®å› æœæ¨è«–ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **

*NASA/Google/Metaæ¨™æº–ã‚’è¶…ãˆã‚‹å®Ÿè£…*

*Generated: 2025-11-11 by CQOx v2.0*
